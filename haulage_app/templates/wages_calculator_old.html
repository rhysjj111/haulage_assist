{% extends "std_template.html" %}


{% block standard_title %}WAGES CALCULATOR{% endblock %}

{% block standard_content %}
<h6>For week commencing: {{f.display_date( start_date)}} </h6>
<br>

{% if anomalies_present or missing_days %}
    {% if missing_days %}
    <div class="row">
        <div class="col s12">
            <div class="card-panel red lighten-2 center-align">
                <span class="white-text">
                    <h5>Missing Days</h5>
                    <p>Please ensure all drivers have at least 5 days entered for this week.</p>
                </span>
            </div>
        </div>
    </div>
    {% endif %}

    {% if anomalies_present %}
    <div class="row">
        <div class="col s12">
            <div class="card-panel orange lighten-2 center-align">
                <span class="white-text">
                    <h5>Anomalies are present</h5>
                    <p>Please ensure there are no anomaly notifications.</p>
                </span>
            </div>
        </div>
    </div>
    {% endif %}
{% else %}
<div class="row">
    {% for driver_id, data in driver_data.items() %}

    {{ macros.driver_card(driver_id, data, f) }}

    {% if loop.index % 3 == 0 and not loop.last %}
</div>
<div class="row">
    {% endif %}

    {% endfor %}
</div>
{% endif %}


{% endblock %}

{# block additional_js %}
<script src="{{ url_for('static', filename='js/deductions.js') }}"></script>
{% endblock #}